<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>GitHub 上一份很受欢迎的前端代码优化指南 - 进击的程序媛，Laker&#39;s blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="BxWqqPVkmU3CTQmmIjCp27ZjmcXuB_YTf8Xa7lp_G-w" />
  <meta name="description" content="看到一份很受欢迎的前端代码指南，根据自己的理解进行了翻译，但能力有限，对一些JS代码理解不了，如有错误，望斧正。">
<meta property="og:type" content="article">
<meta property="og:title" content="GitHub 上一份很受欢迎的前端代码优化指南">
<meta property="og:url" content="http://laker.me/blog/2015/03/09/15_0309_FE_code_style/index.html">
<meta property="og:site_name" content="进击的程序媛，Laker&#39;s blog">
<meta property="og:description" content="看到一份很受欢迎的前端代码指南，根据自己的理解进行了翻译，但能力有限，对一些JS代码理解不了，如有错误，望斧正。">
<meta property="og:updated_time" content="2017-09-28T04:13:55.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="GitHub 上一份很受欢迎的前端代码优化指南">
<meta name="twitter:description" content="看到一份很受欢迎的前端代码指南，根据自己的理解进行了翻译，但能力有限，对一些JS代码理解不了，如有错误，望斧正。">
  
    <link rel="alternative" href="true" title="进击的程序媛，Laker&#39;s blog" type="application/atom+xml">
  
  
    <!--link rel="icon" href="/favicon.png"-->
    <link href="/blog/favicon.ico" rel="icon" type="image/x-ico">
  
  <!-- <link href="/blog/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/blog/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css"> -->
  <link href="/blog/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/blog/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/blog/css/style.css">
  <!--% if (theme.google_analytics){ %-->
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

// ga('create', 'null', 'auto');
ga('create', 'UA-43961506-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->
<!--% } %-->

  
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?c84935c1bc2fcf0a3f6a741737cccf7d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <!-- <a id="logo" class="logo" href="/blog/"></a> -->
      <a id="logo" class="logo" href="http://laker.me"></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
          <a class="main-nav-link" href="/blog/projects">Projects</a>
        
          <a class="main-nav-link" href="/blog/about">About</a>
        
          <a class="main-nav-link" href="/blog/categories">Categories</a>
        
          <a class="main-nav-link" href="/blog/blogrolls">Blogrolls</a>
        
          <a class="main-nav-link" href="/blog/atom.xml">RSS</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://laker.me/blog"></form>
        </div>
      </nav>
    </div>
  </div>
  <!-- Fork me on github -->
  <!-- <a href="https://github.com/younglaker" target="_blank" title="Fork me on GitHub"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a> -->

  <!-- Fork me on Github, Github Logo -->
  <a href="https://github.com/younglaker" class="github-corner" target="_blank" title="Fork me on GitHub"><svg width="60" height="60" viewBox="0 0 250 250" style="fill:#333;color:#fff;position:absolute;top:0;border:0;right:0"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>
</header>
    <section id="main" class="outer"><article id="post-15_0309_FE_code_style" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      GitHub 上一份很受欢迎的前端代码优化指南
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/blog/2015/03/09/15_0309_FE_code_style/" class="article-date">
  <time datetime="2015-03-09T00:24:00.000Z" itemprop="datePublished">2015-03-09</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/翻译/">翻译</a><span>></span><a class="article-category-link" href="/blog/categories/翻译/技术/">技术</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>看到一份很受欢迎的<a href="https://github.com/bendc/frontend-guidelines#semicolons" target="_blank" rel="external">前端代码指南</a>，根据自己的理解进行了翻译，但能力有限，对一些JS代码理解不了，如有错误，望斧正。</p>
<a id="more"></a>
<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><h3 id="语义化标签"><a href="#语义化标签" class="headerlink" title="语义化标签"></a>语义化标签</h3><p>HTML5 提供了很多语义化元素，更好地帮助描述内容。希望你能从这些丰富的标签库中受益。</p>
<pre><code>&lt;!-- bad --&gt;
&lt;div id=&quot;main&quot;&gt;
  &lt;div class=&quot;article&quot;&gt;
    &lt;div class=&quot;header&quot;&gt;
      &lt;h1&gt;Blog post&lt;/h1&gt;
      &lt;p&gt;Published: &lt;span&gt;21st Feb, 2015&lt;/span&gt;&lt;/p&gt;
    &lt;/div&gt;
    &lt;p&gt;…&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;!-- good --&gt;
&lt;main&gt;
  &lt;article&gt;
    &lt;header&gt;
      &lt;h1&gt;Blog post&lt;/h1&gt;
      &lt;p&gt;Published: &lt;time datetime=&quot;2015-02-21&quot;&gt;21st Feb, 2015&lt;/time&gt;&lt;/p&gt;
    &lt;/header&gt;
    &lt;p&gt;…&lt;/p&gt;
  &lt;/article&gt;
&lt;/main&gt;
</code></pre><p>请确保正确使用语义化的标签，错误的用法甚至不如保守的用法。</p>
<pre><code>&lt;!-- bad --&gt;
&lt;h1&gt;
  &lt;figure&gt;
    &lt;img alt=Company src=logo.png&gt;
  &lt;/figure&gt;
&lt;/h1&gt;

&lt;!-- good --&gt;
&lt;h1&gt;
  &lt;img alt=Company src=logo.png&gt;
&lt;/h1&gt;
</code></pre><h3 id="简洁"><a href="#简洁" class="headerlink" title="简洁"></a>简洁</h3><p>确保代码简洁性，不要再采用XHTML的旧做法。</p>
<pre><code>&lt;!-- bad --&gt;
&lt;!doctype html&gt;
&lt;html lang=en&gt;
  &lt;head&gt;
    &lt;meta http-equiv=Content-Type content=&quot;text/html; charset=utf-8&quot; /&gt;
    &lt;title&gt;Contact&lt;/title&gt;
    &lt;link rel=stylesheet href=style.css type=text/css /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Contact me&lt;/h1&gt;
    &lt;label&gt;
      Email address:
      &lt;input type=email placeholder=you@email.com required=required /&gt;
    &lt;/label&gt;
    &lt;script src=main.js type=text/javascript&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;

&lt;!-- good --&gt;
&lt;!doctype html&gt;
&lt;html lang=en&gt;
  &lt;meta charset=utf-8&gt;
  &lt;title&gt;Contact&lt;/title&gt;
  &lt;link rel=stylesheet href=style.css&gt;

  &lt;h1&gt;Contact me&lt;/h1&gt;
  &lt;label&gt;
    Email address:
    &lt;input type=email placeholder=you@email.com required&gt;
  &lt;/label&gt;
  &lt;script src=main.js&gt;&lt;/script&gt;
&lt;/html&gt;
</code></pre><h3 id="可用性"><a href="#可用性" class="headerlink" title="可用性"></a>可用性</h3><p>可用性不应该是事后才考虑的事情。你不必成为WCAG专家来改进网站，你可以通过简单的修改做出不错的效果，例如；</p>
<ul>
<li>正确使用<code>alt</code>属性</li>
<li>确保链接和按钮正确使用（不要用<code>&lt;div class=button&gt;</code>这种粗暴的做法）</li>
<li>不依赖于颜色来传达信息</li>
<li>给表单做好lable标记</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- bad --&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"Logo"</span> <span class="attr">src</span>=<span class="string">"logo.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"> </div><div class="line"> <span class="comment">&lt;!-- good --&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">"My Company, Inc."</span> <span class="attr">src</span>=<span class="string">"logo.png"</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h3><p>定义语言和字符编码是可选项，建议在文档级别处定义。使用UTF-8编码。</p>
<pre><code>&lt;!-- bad --&gt;
&lt;!doctype html&gt;
&lt;title&gt;Hello, world.&lt;/title&gt;

&lt;!-- good --&gt;
&lt;!doctype html&gt;
&lt;html lang=en&gt;
  &lt;meta charset=utf-8&gt;
  &lt;title&gt;Hello, world.&lt;/title&gt;
&lt;/html&gt;
</code></pre><h3 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h3><p>除非有非要在加载内容前加载脚本的必要性由，不然别这样做，这样会阻碍网页渲染。如果你的样式表很大，必须独立放到一个文件里。两次HTTP 请求不会显著降低性能。</p>
<pre><code>&lt;!-- bad --&gt;
&lt;!doctype html&gt;
&lt;meta charset=utf-8&gt;
&lt;script src=analytics.js&gt;&lt;/script&gt;
&lt;title&gt;Hello, world.&lt;/title&gt;
&lt;p&gt;...&lt;/p&gt;

&lt;!-- good --&gt;
&lt;!doctype html&gt;
&lt;meta charset=utf-8&gt;
&lt;title&gt;Hello, world.&lt;/title&gt;
&lt;p&gt;...&lt;/p&gt;
&lt;script src=analytics.js&gt;&lt;/script&gt;
</code></pre><p>##CSS</p>
<h3 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h3><p>不能漏写分号</p>
<pre><code>/* bad */
div {
  color: red
}

/* good */
div {
  color: red;
}
</code></pre><h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><p>整个文档的盒模型应该要相同，最好使用<code>global * { box-sizing: border-box; }</code>定义。不要修改某个元素的盒模型。</p>
<pre><code>/* bad */
div {
  width: 100%;
  padding: 10px;
  box-sizing: border-box;
}

/* good */
div {
  padding: 10px;
}
</code></pre><h3 id="流"><a href="#流" class="headerlink" title="流"></a>流</h3><p>尽量不要改变元素默认行为。保持默认的文本流。比如，移出一个图片下面的一个白块，不影响原本的显示：</p>
<pre><code>/* bad */
img {
  display: block;
}

/* good */
img {
  vertical-align: middle;
}
</code></pre><p>类似的，尽量不要改变浮动方式。</p>
<pre><code>/* bad */
div {
  width: 100px;
  position: absolute;
  right: 0;
}

/* good */
div {
  width: 100px;
  margin-left: auto;
}
</code></pre><p>#定位<br>有很多CSS定位方法，尽量避免使用以下方法，根据性能排序：</p>
<pre><code>display: block;
display: flex;
position: relative;
position: sticky;
position: absolute;
position: fixed;
</code></pre><h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><p>紧密耦合DOM选择器，三个层级以上建议加class：</p>
<pre><code>/* bad */
div:first-of-type :last-child &gt; p ~ *

/* good */
div:first-of-type .info
</code></pre><p>避免不必要的写法：</p>
<pre><code>/* bad */
img[src$=svg], ul &gt; li:first-child {
  opacity: 0;
}

/* good */
[src$=svg], ul &gt; :first-child {
  opacity: 0;
}
</code></pre><h3 id="指明"><a href="#指明" class="headerlink" title="指明"></a>指明</h3><p>不要让代码难于重写，让选择器更精确，减少ID、避免使用<code>!important</code></p>
<pre><code>/* bad */
.bar {
  color: green !important;
}
.foo {
  color: red;
}

/* good */
.foo.bar {
  color: green;
}
.foo {
  color: red;
}
</code></pre><h3 id="覆盖"><a href="#覆盖" class="headerlink" title="覆盖"></a>覆盖</h3><p>覆盖样式会使维护和调试更困难，所以要尽量避免。</p>
<pre><code>/* bad */
li {
  visibility: hidden;
}
li:first-child {
  visibility: visible;
}

/* good */
li + li {
  visibility: hidden;
}
</code></pre><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>不要把可继承的样式重复声明：</p>
<pre><code>/* bad */
div h1, div p {
  text-shadow: 0 1px 0 #fff;
}

/* good */
div {
  text-shadow: 0 1px 0 #fff;
}
</code></pre><h3 id="简洁-1"><a href="#简洁-1" class="headerlink" title="简洁"></a>简洁</h3><p>保持代码的简洁。使用属性缩写。不必要的值不用写。</p>
<pre><code>/* bad */
div {
  transition: all 1s;
  top: 50%;
  margin-top: -10px;
  padding-top: 5px;
  padding-right: 10px;
  padding-bottom: 20px;
  padding-left: 10px;
}

/* good */
div {
  transition: 1s;
  top: calc(50% - 10px);
  padding: 5px 10px 20px;
}
</code></pre><h3 id="语言-1"><a href="#语言-1" class="headerlink" title="语言"></a>语言</h3><p>能用英文的时候不用数字。</p>
<pre><code>/* bad */
:nth-child(2n + 1) {
  transform: rotate(360deg);
}

/* good */
:nth-child(odd) {
  transform: rotate(1turn);
}
</code></pre><h3 id="供应商的前缀"><a href="#供应商的前缀" class="headerlink" title="供应商的前缀"></a>供应商的前缀</h3><p>砍掉过时的供应商前缀。必须使用时，需要放在标准属性前：</p>
<pre><code>/* bad */
div {
  transform: scale(2);
  -webkit-transform: scale(2);
  -moz-transform: scale(2);
  -ms-transform: scale(2);
  transition: 1s;
  -webkit-transition: 1s;
  -moz-transition: 1s;
  -ms-transition: 1s;
}

/* good */
div {
  -webkit-transform: scale(2);
  transform: scale(2);
  transition: 1s;
}
</code></pre><h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><p>除了变形和改变透明度用<code>animation</code>，其他尽量使用<code>transition</code>。</p>
<pre><code>/* bad */
div:hover {
  animation: move 1s forwards;
}
@keyframes move {
  100% {
    margin-left: 100px;
  }
}

/* good */
div:hover {
  transition: 1s;
  transform: translateX(100px);
}
</code></pre><h3 id="单位"><a href="#单位" class="headerlink" title="单位"></a>单位</h3><p>可以不用单位时就不用。建议用<code>rem</code>。时间单位用<code>s</code>比<code>ms</code>好。</p>
<pre><code>/* bad */
div {
  margin: 0px;
  font-size: .9em;
  line-height: 22px;
  transition: 500ms;
}

/* good */
div {
  margin: 0;
  font-size: .9rem;
  line-height: 1.5;
  transition: .5s;
}
</code></pre><h3 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h3><p>需要做透明效果是用<code>rgba</code>，否则都用16进制表示：</p>
<pre><code>/* bad */
div {
  color: hsl(103, 54%, 43%);
}

/* good */
div {
  color: #5a3;
}
</code></pre><h3 id="绘图"><a href="#绘图" class="headerlink" title="绘图"></a>绘图</h3><p>减少HTTPS请求，尽量用CSS绘图替代图片：</p>
<pre><code>/* bad */
div::before {
  content: url(white-circle.svg);
}

/* good */
div::before {
  content: &quot;&quot;;
  display: block;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #fff;
}
</code></pre><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><pre><code>/* bad */
div {
  // position: relative;
  transform: translateZ(0);
}

/* good */
div {
  /* position: relative; */
  will-change: transform;
}
</code></pre><p>##JavaScript</p>
<h3 id="性能-1"><a href="#性能-1" class="headerlink" title="性能"></a>性能</h3><p>有可读性、正确性和好的表达比性能更重要。JavaScript基本上不会是你的性能瓶颈。有些可优化细节例如：图片压缩、网络接入、DOM文本流。如果你只能记住本指南的一条规则，那就记住这条吧。</p>
<pre><code>// bad (albeit way faster)
const arr = [1, 2, 3, 4];
const len = arr.length;
var i = -1;
var result = [];
while (++i &lt; len) {
  var n = arr[i];
  if (n % 2 &gt; 0) continue;
  result.push(n * n);
}

// good
const arr = [1, 2, 3, 4];
const isEven = n =&gt; n % 2 == 0;
const square = n =&gt; n * n;

const result = arr.filter(isEven).map(square);
</code></pre><h3 id="Statelessness"><a href="#Statelessness" class="headerlink" title="Statelessness"></a>Statelessness</h3><p>尽量保持代码功能简单化，每个方法都对其他其他代码没有负影响。不使用外部数据。返回一个新对象而不是覆盖原有的对象。</p>
<pre><code>// bad
const merge = (target, ...sources) =&gt; Object.assign(target, ...sources);
merge({ foo: &quot;foo&quot; }, { bar: &quot;bar&quot; }); // =&gt; { foo: &quot;foo&quot;, bar: &quot;bar&quot; }

// good
const merge = (...sources) =&gt; Object.assign({}, ...sources);
merge({ foo: &quot;foo&quot; }, { bar: &quot;bar&quot; }); // =&gt; { foo: &quot;foo&quot;, bar: &quot;bar&quot; }
</code></pre><h3 id="尽量使用内置方法"><a href="#尽量使用内置方法" class="headerlink" title="尽量使用内置方法"></a>尽量使用内置方法</h3><pre><code>// bad
const toArray = obj =&gt; [].slice.call(obj);

// good
const toArray = (() =&gt;
  Array.from ? Array.from : obj =&gt; [].slice.call(obj)
)();
</code></pre><h3 id="严格条件"><a href="#严格条件" class="headerlink" title="严格条件"></a>严格条件</h3><p>在非必要严格条件的情况不要使用。</p>
<pre><code>// bad
if (x === undefined || x === null) { ... }

// good
if (x == undefined) { ... }
</code></pre><h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><p>不要在循环里强制改变对象的值，，可以利用<code>array.prototype</code>方法。</p>
<pre><code>// bad
const sum = arr =&gt; {
  var sum = 0;
  var i = -1;
  for (;arr[++i];) {
    sum += arr[i];
  }
  return sum;
};

sum([1, 2, 3]); // =&gt; 6

// good
const sum = arr =&gt;
  arr.reduce((x, y) =&gt; x + y);

sum([1, 2, 3]); // =&gt; 6
If you can&apos;t, or if using array.prototype methods is arguably abusive, use recursion.

// bad
const createDivs = howMany =&gt; {
  while (howMany--) {
    document.body.insertAdjacentHTML(&quot;beforeend&quot;, &quot;&lt;div&gt;&lt;/div&gt;&quot;);
  }
};
createDivs(5);

// bad
const createDivs = howMany =&gt;
  [...Array(howMany)].forEach(() =&gt;
    document.body.insertAdjacentHTML(&quot;beforeend&quot;, &quot;&lt;div&gt;&lt;/div&gt;&quot;)
  );
createDivs(5);

// good
const createDivs = howMany =&gt; {
  if (!howMany) return;
  document.body.insertAdjacentHTML(&quot;beforeend&quot;, &quot;&lt;div&gt;&lt;/div&gt;&quot;);
  return createDivs(howMany - 1);
};
createDivs(5);
</code></pre><h3 id="Arguments"><a href="#Arguments" class="headerlink" title="Arguments"></a>Arguments</h3><p>忘记<code>arguments</code>对象吧，其他参数是更好的选择，因为：</p>
<ul>
<li>它已经被定义</li>
<li><p>它是一个真的数组，很方便使用</p>
<pre><code>// bad
const sortNumbers = () =&gt;
  Array.prototype.slice.call(arguments).sort();

// good
const sortNumbers = (...numbers) =&gt; numbers.sort();
</code></pre></li>
</ul>
<h3 id="Apply"><a href="#Apply" class="headerlink" title="Apply"></a>Apply</h3><p>忘记<code>apply()</code>，改用运算操作。</p>
<pre><code>const greet = (first, last) =&gt; `Hi ${first} ${last}`;
const person = [&quot;John&quot;, &quot;Doe&quot;];

// bad
greet.apply(null, person);

// good
greet(...person);
</code></pre><h3 id="Bind"><a href="#Bind" class="headerlink" title="Bind"></a>Bind</h3><p>不用<code>bind()</code>方法，这有更好的选择：</p>
<pre><code>// bad
[&quot;foo&quot;, &quot;bar&quot;].forEach(func.bind(this));

// good
[&quot;foo&quot;, &quot;bar&quot;].forEach(func, this);
// bad
const person = {
  first: &quot;John&quot;,
  last: &quot;Doe&quot;,
  greet() {
    const full = function() {
      return `${this.first} ${this.last}`;
    }.bind(this);
    return `Hello ${full()}`;
  }
}

// good
const person = {
  first: &quot;John&quot;,
  last: &quot;Doe&quot;,
  greet() {
    const full = () =&gt; `${this.first} ${this.last}`;
    return `Hello ${full()}`;
  }
}
</code></pre><h3 id="更好的排序"><a href="#更好的排序" class="headerlink" title="更好的排序"></a>更好的排序</h3><p>避免多重嵌套：</p>
<pre><code>// bad
[1, 2, 3].map(num =&gt; String(num));

// good
[1, 2, 3].map(String);
</code></pre><h3 id="Composition"><a href="#Composition" class="headerlink" title="Composition"></a>Composition</h3><p>避免方法嵌套调用，改用<code>composition</code>：</p>
<pre><code>const plus1 = a =&gt; a + 1;
const mult2 = a =&gt; a * 2;

// bad
mult2(plus1(5)); // =&gt; 12

// good
const pipeline = (...funcs) =&gt; val =&gt; funcs.reduce((a, b) =&gt; b(a), val);
const addThenMult = pipeline(plus1, mult2);
addThenMult(5); // =&gt; 12
</code></pre><h3 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h3><p>缓存性能测试，大数据结构和任何高代价的操作。</p>
<pre><code>// bad
const contains = (arr, value) =&gt;
  Array.prototype.includes
    ? arr.includes(value)
    : arr.some(el =&gt; el === value);
contains([&quot;foo&quot;, &quot;bar&quot;], &quot;baz&quot;); // =&gt; false

// good
const contains = (() =&gt;
  Array.prototype.includes
    ? (arr, value) =&gt; arr.includes(value)
    : (arr, value) =&gt; arr.some(el =&gt; el === value)
)();
contains([&quot;foo&quot;, &quot;bar&quot;], &quot;baz&quot;); // =&gt; false
</code></pre><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p><code>const</code> 优于 <code>let</code>， <code>let</code> 优于 <code>var</code>。</p>
<pre><code>// bad
var obj = {};
obj[&quot;foo&quot; + &quot;bar&quot;] = &quot;baz&quot;;

// good
const obj = {
  [&quot;foo&quot; + &quot;bar&quot;]: &quot;baz&quot;
};
</code></pre><h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><p>用多个<code>if</code>，优于 <code>if</code> 、<code>else if</code>、<code>else</code> 和<code>switch</code>。</p>
<pre><code>// bad
var grade;
if (result &lt; 50)
  grade = &quot;bad&quot;;
else if (result &lt; 90)
  grade = &quot;good&quot;;
else
  grade = &quot;excellent&quot;;

// good
const grade = (() =&gt; {
  if (result &lt; 50)
    return &quot;bad&quot;;
  if (result &lt; 90)
    return &quot;good&quot;;
  return &quot;excellent&quot;;
})();
</code></pre><h3 id="对象的操作"><a href="#对象的操作" class="headerlink" title="对象的操作"></a>对象的操作</h3><p>避免使用<code>for...in</code>。</p>
<pre><code>const shared = { foo: &quot;foo&quot; };
const obj = Object.create(shared, {
  bar: {
    value: &quot;bar&quot;,
    enumerable: true
  }
});

// bad
for (var prop in obj) {
  if (obj.hasOwnProperty(prop))
    console.log(prop);
}

// good
Object.keys(obj).forEach(prop =&gt; console.log(prop));
</code></pre><h3 id="使用map"><a href="#使用map" class="headerlink" title="使用map"></a>使用map</h3><p>合理使用的情况下，map更强大：</p>
<pre><code>// bad
const me = {
  name: &quot;Ben&quot;,
  age: 30
};
var meSize = Object.keys(me).length;
meSize; // =&gt; 2
me.country = &quot;Belgium&quot;;
meSize++;
meSize; // =&gt; 3

// good
const me = Map();
me.set(&quot;name&quot;, &quot;Ben&quot;);
me.set(&quot;age&quot;, 30);
me.size; // =&gt; 2
me.set(&quot;country&quot;, &quot;Belgium&quot;);
me.size; // =&gt; 3
</code></pre><h3 id="Curry"><a href="#Curry" class="headerlink" title="Curry"></a>Curry</h3><p>在别的语言里有Curry的一席之地，但在JS里避免使用。不然会使代码阅读困难。</p>
<pre><code>// bad
const sum = a =&gt; b =&gt; a + b;
sum(5)(3); // =&gt; 8

// good
const sum = (a, b) =&gt; a + b;
sum(5, 3); // =&gt; 8
</code></pre><h3 id="可读性"><a href="#可读性" class="headerlink" title="可读性"></a>可读性</h3><p>不要使用自以为是的技巧：</p>
<pre><code>// bad
foo || doSomething();

// good
if (!foo) doSomething();

// bad
void function() { /* IIFE */ }();

// good
(function() { /* IIFE */ }());

// bad
const n = ~~3.14;

// good
const n = Math.floor(3.14);
</code></pre><h3 id="代码重用"><a href="#代码重用" class="headerlink" title="代码重用"></a>代码重用</h3><p>对写些小型、组件化、可重用的方法。</p>
<pre><code>// bad
arr[arr.length - 1];

// good
const first = arr =&gt; arr[0];
const last = arr =&gt; first(arr.slice(-1));
last(arr);

// bad
const product = (a, b) =&gt; a * b;
const triple = n =&gt; n * 3;

// good
const product = (a, b) =&gt; a * b;
const triple = product.bind(null, 3);
</code></pre><h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><p>减少第三方库的使用。当你无法完成某项工作时可以使用，但不要为了一些能自己实现的小功能就加载一个很大的库。</p>
<pre><code>// bad
var _ = require(&quot;underscore&quot;);
_.compact([&quot;foo&quot;, 0]));
_.unique([&quot;foo&quot;, &quot;foo&quot;]);
_.union([&quot;foo&quot;], [&quot;bar&quot;], [&quot;foo&quot;]);

// good
const compact = arr =&gt; arr.filter(el =&gt; el);
const unique = arr =&gt; [...Set(arr)];
const union = (...arr) =&gt; unique([].concat(...arr));

compact([&quot;foo&quot;, 0]);
unique([&quot;foo&quot;, &quot;foo&quot;]);
union([&quot;foo&quot;], [&quot;bar&quot;], [&quot;foo&quot;]);
</code></pre><hr>
<blockquote>
<p>英文原文 <a href="https://github.com/bendc/frontend-guidelines" target="_blank" rel="external">Frontend Guidelines</a></p>
<p>本文是我为 <a href="http://segmentfault.net/blog/news/1190000002587334" target="_blank" rel="external">SegmentFault</a>  所译</p>
</blockquote>

        <hr>
        <div class="copyrights1">
          <a href="http://laker.me/blog/2015/03/09/15_0309_FE_code_style/">GitHub 上一份很受欢迎的前端代码优化指南</a>
          <!--%- partial('post/title', {class_name: 'archive-article-title'}) %-->
          <p>本文原创自<a href="http://laker.me/blog">http://laker.me/blog</a>，转载请注明出处，欢迎交换友链</p>
          <p>如果本文对您有帮助，微信扫一扫，请我吃个鸡腿吧</p>
          <p><img src="http://wx2.sinaimg.cn/large/6d184cefly1fw014hlsn1j2046046gly.jpg"></p>
        </div>
      
    </div>
  
    <footer class="article-footer">
      
    </footer>
  
  <p class="hint-text hidden">阅读量<span id="busuanzi_value_page_pv"></span>次</p>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2015/03/11/15_0311_web_tools_1/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-title"><span>&lt;</span>&nbsp;
        
          Web开发利器推荐（一）
        
      </div>
    </a>
  
  
    <a href="/blog/2015/03/02/15_0303_hackathon_thought/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">黑客马拉松促进编程和公民思想&nbsp;<span>&gt;</span></div>
    </a>
  
</nav>

  
</article>



<!-- 

<section id="comment">
  <h1 class="title">评论组件不稳定，有事请联系V信 lakerHQ (请备注来自博客)</h1>
  <div id="disqus_thread">
    <div id="uyan_frame"></div>
    <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1672779"></script>
  </div>
</section>

 -->



<!-- !index 表示不是首页是显示，即在文章详情页显示 -->
<!-- <div>adasdadas</div> -->

<div id="disqus_thread"></div>
<script>
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://laker-huang.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</section>
    <footer id="footer">
  
  <div class="outer">
    <!--div id="footer-info" class="inner">
      &copy; 2019 Laker Huang&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div-->
    <div id="footer-info" class="inner">
      &copy; 2014 - 2019 Laker Huang&nbsp; <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
    </div>
    <!-- <p class="hint-text">自2015/11/04，本站共被抚摸 <span id="busuanzi_value_site_pv"></span> 次</p> -->
    <!-- <p class="hint-text">您是第 <span id="busuanzi_value_site_uv"></span> 位小伙伴</p> -->
  </div>
</footer>
    <!--  -->





<!--script src="/blog/js/jquery.min.js"></script-->
<script src="https://cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>
<!-- <script src="https://cdn.bootcss.com/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script> -->



<script src="/blog/js/script.js"></script>

<div id="totop" style="position:fixed;bottom:100px;right:50px;cursor: pointer;">
	<a title="返回顶部"><img src="/blog/img/scrollup.png"/></a>
</div>
<script src="/blog/js/totop.js"></script>


<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>

</body>
</html>